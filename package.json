{
  "name": "ECL",
  "version": "0.0.1",
  "publisher": "hpcc-systems",
  "description": "ECL language support for Visual Studio Code",
  "author": {
    "name": "HPCC Ssstems"
  },
  "icon": "images/eclIcon.png",
  "categories": [
    "Languages",
    "Snippets",
    "Linters",
    "Debuggers"
  ],
  "galleryBanner": {
    "color": "#CFB69A",
    "theme": "light"
  },
  "private": true,
  "repository": {
    "type": "git",
    "url": "https://github.com/hpcc-systems/vscode-ecl.git"
  },
  "scripts": {
    "vscode:prepublish": "node ./node_modules/vscode/bin/compile",
    "compile": "node ./node_modules/vscode/bin/compile -watch -p ./",
    "postinstall": "node ./node_modules/vscode/bin/install",
    "test": "node ./node_modules/vscode/bin/test",
    "lint": "node ./node_modules/tslint/bin/tslint ./src/*.ts ./src/serverAdapter/*.ts ./test/*.ts"
  },
  "extensionDependencies": [],
  "dependencies": {
    "console-stamp": "~0.2.4",
    "vscode-debugadapter": "~1.14.0",
    "vscode-debugprotocol": "~1.14.0",
    "semver": "~5.3.0",
    "request": "~2.78.0",
    "tmp": "~0.0.30",
    "xml2js": "~0.4.17"
  },
  "devDependencies": {
    "fs-extra": "~0.30.0",
    "tslint": "~3.15.1",
    "typescript": "~2.0.7",
    "vscode": "^0.11.17"
  },
  "engines": {
    "vscode": "^1.5.0"
  },
  "activationEvents": [
    "onLanguage:ecl",
    "onCommand:ecl.test.file"
  ],
  "main": "./out/src/eclMain",
  "contributes": {
    "languages": [
      {
        "id": "ecl",
        "extensions": [
          "ecl"
        ],
        "aliases": [
          "ECL",
          "ecl"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "ecl",
        "scopeName": "source.ecl",
        "path": "./syntaxes/ecl.tmLanguage.json"
      }
    ],
    "snippets": [
      {
        "language": "ecl",
        "path": "./snippets/ecl.json"
      }
    ],
    "commands": [
      {
        "command": "ecl.checkSyntax",
        "title": "ECL: Check Syntax",
        "description": "Save + check syntax of current file."
      },
      {
        "command": "ecl.showECLWatch",
        "title": "ECL: Show Workunits",
        "description": "Show workunits associated with current file."
      }
    ],
    "keybindings": [
      {
        "command": "ecl.checkSyntax",
        "key": "f7",
        "mac": "f7",
        "when": "editorTextFocus"
      },
      {
        "command": "ecl.showECLWatch",
        "key": "f8",
        "mac": "f8",
        "when": "editorTextFocus"
      }
    ],
    "debuggers": [
      {
        "type": "ecl",
        "label": "ECL",
        "enableBreakpointsFor": {
          "languageIds": [
            "ecl"
          ]
        },
        "program": "./out/src/serverAdapter/ECLDebug.js",
        "runtime": "node",
        "initialConfigurations": [
          {
            "name": "Submit-hthor",
            "type": "ecl",
            "request": "launch",
            "mode": "submit",
            "workspace": "${workspaceRoot}",
            "file": "${file}",
            "serverAddress": "192.168.3.22",
            "port": 8010,
            "targetCluster": "hthor",
            "buildFlags": [],
            "includeFolders": []
          },
          {
            "name": "Compile",
            "type": "ecl",
            "request": "launch",
            "mode": "compile",
            "workspace": "${workspaceRoot}",
            "file": "${file}",
            "serverAddress": "192.168.3.22",
            "port": 8010,
            "targetCluster": "hthor",
            "buildFlags": [],
            "includeFolders": []
          }
        ],
        "configurationAttributes": {
          "launch": {
            "required": [
              "workspace",
              "serverAddress",
              "port",
              "targetCluster"
            ],
            "properties": {
              "mode": {
                "type": "string",
                "description": "One of 'submit', 'compile', debug'.",
                "default": "submit"
              },
              "workspace": {
                "type": "string",
                "description": "Workspace relative path to the program folder (or any file within that folder) when in 'debug' or 'test' mode, and to the pre-built binary file to debug in 'exec' mode.",
                "default": "${workspaceRoot}"
              },
              "file": {
                "type": "string",
                "description": "Currently active file.",
                "default": "${file}"
              },
              "serverAddress": {
                "type": "string",
                "description": "Server IP/Domain address.",
                "default": "127.0.0.1"
              },
              "port": {
                "type": "number",
                "description": "The WsWorkunits port.",
                "default": 8010
              },
              "targetCluster": {
                "type": "string",
                "description": "Target cluster.",
                "default": "hthor"
              },
              "buildFlags": {
                "type": "array",
                "description": "Build flags, to be passed to the eclcc compiler.",
                "items": {
                  "type": "string"
                },
                "default": []
              },
              "legacyMode": {
                "type": "boolean",
                "description": "Legacy Mode.",
                "default": false
              },
              "includeFolders": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "default": [],
                "description": "External folders used by IMPORT"
              }
            }
          }
        }
      }
    ],
    "configuration": {
      "type": "object",
      "title": "ECL configuration",
      "properties": {
        "ecl.syntaxCheckOnSave": {
          "type": "boolean",
          "default": true,
          "description": "Run 'eclcc -fsytnax' on save."
        },
        "ecl.includeFolders": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "External folders use by IMPORT"
        },
        "ecl.defaultServer": {
          "type": "string",
          "description": "Default Server"
        },
        "ecl.servers": {
          "type": "array",
          "items": {
            "type": "object",
            "title": "Server",
            "properties": {
              "name": {
                "type": "string",
                "description": "Server Name"
              },
              "address": {
                "type": "string",
                "description": "Server Address"
              },
              "port": {
                "type": "number",
                "description": "Server Port"
              }
            }
          },
          "default": [],
          "description": "HPCC Servers"
        }
      }
    }
  }
}